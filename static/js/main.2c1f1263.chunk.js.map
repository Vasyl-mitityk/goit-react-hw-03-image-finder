{"version":3,"sources":["components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.js","services/pixabayApi.js","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","components/Modal/Modal.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Notifications/Notifications.js","App.js","reportWebVitals.js","index.js","components/Searchbar/Searchbar.module.css","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css"],"names":["module","exports","Searchbar","state","query","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","this","className","style","SearchForm","input","type","autoComplete","autoFocus","placeholder","onChange","name","button","button_label","Component","fetchImages","searchQuery","page","url","fetch","then","response","json","hits","ImageGalleryItem","elem","getImgForModal","webformatURL","tags","src","alt","image","onClick","Modal","closeModal","target","nodeName","code","hideModal","window","addEventListener","removeEventListener","Overlay","children","ImageGallery","showModal","toggleModal","gallery","largeImageURL","map","item","id","Button","getNewPage","bs","Notifications","fetchLength","galleryLength","error","defaultProps","App","isLoading","getQueryByForm","setNewPage","prevState","fetchImagesByQuery","prevProps","result","length","catch","finally","scrollTo","top","document","documentElement","scrollHeight","behavior","color","height","width","timeout","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.2c1f1263.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3n1G4\",\"Modal\":\"Modal_Modal__21koj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__XzK2K\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1t-tu\"};","import React, { Component } from 'react';\r\nimport style from './Searchbar.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    query: '',\r\n  };\r\n  handleChange = e => {\r\n    this.setState({ query: e.currentTarget.value });\r\n  };\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    const { query } = this.state;\r\n    this.props.onSubmit({ query });\r\n    this.setState({ query: '' });\r\n  };\r\n  render() {\r\n    const { query } = this.state;\r\n    // console.log(query);\r\n    return (\r\n      <header className={style.Searchbar}>\r\n        <form className={style.SearchForm} onSubmit={this.handleSubmit}>\r\n          <input\r\n            className={style.input}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            onChange={this.handleChange}\r\n            name=\"query\"\r\n            value={query}\r\n          />\r\n          <button type=\"submit\" className={style.button}>\r\n            <span className={style.button_label}>Search</span>\r\n          </button>\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\nexport default Searchbar;","const apiKey = '19851067-7c860a6e23d51e90a164e5364';\r\n\r\nfunction fetchImages(searchQuery, page) {\r\n  const url = `https://pixabay.com/api/?key=${apiKey}&q=${searchQuery}&image_type=photo&orientation=horizontal&page=${page}&per_page=12`;\r\n\r\n  return fetch(url)\r\n    .then(response => {\r\n      \r\n      return response.json();\r\n    })\r\n    .then(({ hits }) => {\r\n      \r\n      return hits;\r\n    });\r\n}\r\n\r\nexport default fetchImages;","import React from 'react';\r\nimport style from './ImageGalleryItem.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ImageGalleryItem = ({ elem, getImgForModal }) => {\r\n  \r\n  const { webformatURL, tags } = elem;\r\n \r\n  return (\r\n    <li className={style.ImageGalleryItem}>\r\n      <img\r\n        src={webformatURL}\r\n        alt={tags}\r\n        className={style.image}\r\n        onClick={() => getImgForModal({ elem })}\r\n      />\r\n    </li>\r\n  );\r\n};\r\nImageGalleryItem.propTypes = {\r\n  elem: PropTypes.shape({\r\n    webformatURL: PropTypes.string.isRequired,\r\n    tags: PropTypes.string.isRequired,\r\n  }).isRequired,\r\n  getImgForModal: PropTypes.func.isRequired,\r\n};\r\nexport default ImageGalleryItem;","import React, { Component } from 'react';\r\nimport style from './Modal.module.css';\r\nimport PropTypes from 'prop-types';\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.closeModal);\r\n  }\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.closeModal);\r\n  }\r\n\r\n  closeModal = e => {\r\n    if (e.target.nodeName !== 'IMG' || e.code === 'Escape') {\r\n      this.props.hideModal();\r\n    }\r\n  };\r\n  render() {\r\n    return (\r\n      <div className={style.Overlay} onClick={this.closeModal}>\r\n        <div className={style.Modal}>{this.props.children}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nModal.propTypes = {\r\n  hideModal: PropTypes.func.isRequired,\r\n};\r\nexport default Modal;","import React, { Component } from 'react';\r\nimport style from './ImageGallery.module.css';\r\nimport PropTypes from 'prop-types';\r\nimport ImageGalleryItem from './ImageGalleryItem/ImageGalleryItem';\r\nimport Modal from '../Modal/Modal';\r\nclass ImageGallery extends Component {\r\n  state = {\r\n    elem: '',\r\n    showModal: false,\r\n  };\r\n  toggleModal = () => {\r\n    this.setState({\r\n      showModal: !this.state.showModal,\r\n    });\r\n  };\r\n  getImgForModal = ({ elem }) => {\r\n    if (elem) {\r\n      this.toggleModal();\r\n      this.setState({\r\n        elem,\r\n      });\r\n    }\r\n  };\r\n  render() {\r\n    const { showModal, elem } = this.state;\r\n    const { gallery } = this.props;\r\n    \r\n    const { tags, largeImageURL } = elem;\r\n    return (\r\n      <ul className={style.ImageGallery}>\r\n        {gallery.map(item => {\r\n          return (\r\n            <ImageGalleryItem\r\n              key={item.id}\r\n              elem={item}\r\n              getImgForModal={this.getImgForModal}\r\n            />\r\n          );\r\n        })}\r\n        {showModal && (\r\n          <Modal hideModal={this.toggleModal}>\r\n            <img src={largeImageURL} alt={tags} />\r\n          </Modal>\r\n        )}\r\n      </ul>\r\n    );\r\n  }\r\n}\r\nImageGallery.propTypes = {\r\n  gallery: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n    }),\r\n  ).isRequired,\r\n};\r\nexport default ImageGallery;","import React from 'react';\r\nimport bs from './Button.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Button = ({ getNewPage }) => {\r\n  \r\n  return (\r\n    <button\r\n      className={bs.Button}\r\n      type=\"button\"\r\n      data-action=\"load-more\"\r\n      \r\n      onClick={getNewPage}\r\n    >\r\n      Show more\r\n    </button>\r\n  );\r\n};\r\nButton.propTypes = {\r\n  getNewPage: PropTypes.func.isRequired,\r\n};\r\nexport default Button;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nconst Notifications = ({ fetchLength, galleryLength, searchQuery, error }) => {\r\n  if (error) {\r\n    \r\n    return <p>Oops! Something wrong! Request error!</p>;\r\n  } else if (!error) {\r\n    if (!searchQuery) {\r\n      return <p>Please enter image name!</p>;\r\n    } else if (searchQuery) {\r\n      if (!fetchLength && !galleryLength) {\r\n        return <p>Image not found. Please check your request and try again!</p>;\r\n      } else if (fetchLength < 12 && galleryLength > 0) {\r\n        return <p>These are all the images we found!</p>;\r\n      }\r\n    }\r\n  }\r\n\r\n  return <p></p>;\r\n};\r\nNotifications.defaultProps = {\r\n  fetchLength: 0,\r\n  galleryLength: 0,\r\n  searchQuery: '',\r\n  error: false,\r\n};\r\nNotifications.propTypes = {\r\n  fetchLength: PropTypes.number,\r\n  galleryLength: PropTypes.number,\r\n  searchQuery: PropTypes.string,\r\n  error: PropTypes.bool,\r\n};\r\nexport default Notifications;","import React, { Component } from 'react';\nimport './App.css';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport Loader from 'react-loader-spinner';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport fetchImages from './services/pixabayApi';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Button from './components/Button/Button';\nimport Notifications from './components/Notifications/Notifications';\n\nclass App extends Component {\n  state = {\n    query: '',\n    page: 1,\n    gallery: [],\n    fetchLength: null,\n    isLoading: false,\n    error: false,\n  };\n  componentDidUpdate(prevProps, prevState) {\n    const { query, page } = this.state;\n    if (query !== prevState.query && query !== '') {\n      this.fetchImagesByQuery(query);\n    } else if (query === prevState.query && page !== prevState.page) {\n      this.fetchImagesByQuery(query);\n    }\n  }\n\n  getQueryByForm = ({ query }) => {\n   \n    this.setState({ query: '', page: 1, gallery: [], fetchLength: 0 });\n    this.setState({ query: query, page: 1, gallery: [] });\n  };\n\n  setNewPage = e => {\n    e.preventDefault();\n    this.setState(prevState => ({\n      page: prevState.page + 1,\n    }));\n  };\n\n  fetchImagesByQuery = (prevProps, prevState) => {\n    const { query, page } = this.state;\n\n    this.setState({ isLoading: true });\n    fetchImages(query, page)\n      .then(result => {\n        \n        this.setState(prevState => ({\n          gallery: [...prevState.gallery, ...result],\n          fetchLength: result.length,\n        }));\n      })\n      .catch(error => {\n        this.setState({ error: true });\n      })\n      .finally(() => {\n        this.setState({ isLoading: false });\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: 'smooth',\n        });\n      });\n    // }\n  };\n  render() {\n    const { gallery, fetchLength, isLoading, query, error } = this.state;\n    \n    return (\n      <div className=\"App\">\n        <h1>Search image</h1>\n        <Searchbar onSubmit={this.getQueryByForm} />\n        <ImageGallery gallery={gallery} />\n        {isLoading && (\n          <Loader\n            type=\"ThreeDots\"\n            color=\"#3f51b5\"\n            height={100}\n            width={100}\n            timeout={3000}\n          />\n        )}\n        {fetchLength === 12 && !isLoading && (\n          <Button getNewPage={this.setNewPage} />\n        )}\n\n        <Notifications\n          fetchLength={fetchLength}\n          galleryLength={gallery.length}\n          searchQuery={query}\n          error={error}\n        />\n      </div>\n    );\n  }\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3e7Ij\",\"SearchForm\":\"Searchbar_SearchForm__1fzVa\",\"button\":\"Searchbar_button__3lvwn\",\"button_label\":\"Searchbar_button_label__1dw6L\",\"input\":\"Searchbar_input__3UrQV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3xrMN\",\"image\":\"ImageGalleryItem_image__1jZlT\"};"],"sourceRoot":""}